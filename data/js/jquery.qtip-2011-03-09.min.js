/*
* qTip2 - Pretty powerful tooltips
* http://craigsworks.com/projects/qtip2/
*
* Version: nightly
* Copyright 2009-2010 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPLv2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Wed Mar  9 14:08:00 PST 2011
*/"use strict",function(a,b,c){function x(b,g){function v(a){var b=a.precedance==="y",c=n[b?"width":"height"],d=n[b?"height":"width"],e=a.string().indexOf("center")>-1,f=c*(e?.5:1),g=Math.pow,h=Math.round,i,j,k,l=Math.sqrt(g(f,2)+g(d,2)),m=[p/f*l,p/d*l];m[2]=Math.sqrt(g(m[0],2)-g(p,2)),m[3]=Math.sqrt(g(m[1],2)-g(p,2)),i=l+m[2]+m[3]+(e?0:m[0]),j=i/l,k=[h(j*d),h(j*c)];return{height:k[b?0:1],width:k[b?1:0]}}function u(b){var c=k.titlebar&&b.y==="top",d=c?k.titlebar:k.content,e=a.browser.mozilla,f=e?"-moz-":a.browser.webkit?"-webkit-":"",g=b.y+(e?"":"-")+b.x,h=f+(e?"border-radius-"+g:"border-"+g+"-radius");return parseInt(d.css(h),10)||parseInt(l.css(h),10)||0}function t(a,b,c){b=b?b:a[a.precedance];var d=k.titlebar&&a.y==="top",e=d?k.titlebar:k.content,f="border-"+b+"-width",g=parseInt(e.css(f),10);return(c?g||parseInt(l.css(f),10):g)||0}function s(b,e,f,g){if(k.tip){var h=a.extend({},i.corner),l=f.adjusted,n;i.corner.fixed!==d&&(l.left&&(h.x=h.x==="center"?l.left>0?"left":"right":h.x==="left"?"right":"left"),l.top&&(h.y=h.y==="center"?l.top>0?"top":"bottom":h.y==="top"?"bottom":"top"),h.string()!==m.corner&&(m.top!==l.top||m.left!==l.left)&&(n=i.update(h))),n||(n=i.position(h,0)),n.right!==c&&(n.left=n.right),n.bottom!==c&&(n.top=n.bottom),n.option=Math.max(0,j.offset),f.left-=n.left.charAt?n.option:(n.right?-1:1)*n.left,f.top-=n.top.charAt?n.option:(n.bottom?-1:1)*n.top,m.left=l.left,m.top=l.top,m.corner=h.string()}}var i=this,j=b.options.style.tip,k=b.elements,l=k.tooltip,m={top:0,left:0,corner:""},n={width:j.width,height:j.height},o={},p=j.border||0,q=".qtip-tip",r=a("<canvas />")[0].getContext;i.corner=f,i.mimic=f,b.checks.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){i.init()||i.destroy(),b.reposition()},"^style.tip.(height|width)$":function(){n={width:j.width,height:j.height},i.create(),i.update(),b.reposition()},"^content.title.text|style.(classes|widget)$":function(){k.tip&&i.update()}},a.extend(i,{init:function(){var b=i.detectCorner()&&(r||a.browser.msie);b&&(i.create(),i.update(),l.unbind(q).bind("tooltipmove"+q,s));return b},detectCorner:function(){var a=j.corner,c=b.options.position,f=c.at,g=c.my.string?c.my.string():c.my;if(a===e||g===e&&f===e)return e;a===d?i.corner=new h.Corner(g):a.string||(i.corner=new h.Corner(a),i.corner.fixed=d);return i.corner.string()!=="centercenter"},detectColours:function(){var c,d=k.tip.css({backgroundColor:"",border:""}),e=i.corner,f=e[e.precedance],g="border-"+f+"-color",h="border"+f.charAt(0)+f.substr(1)+"Color",m=/rgba?\(0, 0, 0(, 0)?\)|transparent/i,p="background-color",q="transparent",r=a(document.body).css("color"),s=b.elements.content.css("color"),t=k.titlebar&&(e.y==="top"||e.y==="center"&&d.position().top+n.height/2+j.offset<k.titlebar.outerHeight(1)),u=t?k.titlebar:k.content,v=d.css(p)||q,w=d[0].style[h];if(!v||m.test(v))o.fill=u.css(p),m.test(o.fill)&&(o.fill=l.css(p)||v);if(!w||m.test(w)){o.border=l.css(g);if(m.test(o.border)||o.border===r)o.border=u.css(g),o.border===s&&(o.border=w)}a("*",d).add(d).css(p,q).css("border","0px dashed transparent")},create:function(){var b=n.width,c=n.height,d;k.tip&&k.tip.remove(),k.tip=a("<div />",{"class":"ui-tooltip-tip"}).css({width:b,height:c}).prependTo(l),r?a("<canvas />").appendTo(k.tip)[0].getContext("2d").save():(d='<vml:shape coordorigin="0,0" style="display:block; position:absolute; behavior:url(#default#VML);"></vml:shape>',k.tip.html(p?d+=d:d))},update:function(b){var c=k.tip,g=c.children(),l=n.width,m=n.height,q="px solid ",s="px dashed transparent",u=j.mimic,x=Math.round,y,z,A,B,C;b||(b=i.corner),u===e?u=b:(u=new h.Corner(u),u.precedance=b.precedance,u.x==="inherit"?u.x=b.x:u.y==="inherit"?u.y=b.y:u.x===u.y&&(u[b.precedance]=b[b.precedance])),y=u.precedance,i.detectColours(),p=o.border==="transparent"||o.border==="#123456"?0:j.border===d?t(b,f,d):j.border,A=w(u,l,m),C=v(b),c.css(C),b.precedance==="y"?B=[x(u.x==="left"?p:u.x==="right"?C.width-l-p:(C.width-l)/2),x(u.y==="top"?C.height-m:0)]:B=[x(u.x==="left"?C.width-l:0),x(u.y==="top"?p:u.y==="bottom"?C.height-m-p:(C.height-m)/2)],r?(g.attr(C),z=g[0].getContext("2d"),z.restore(),z.save(),z.clearRect(0,0,3e3,3e3),z.translate(B[0],B[1]),z.beginPath(),z.moveTo(A[0][0],A[0][1]),z.lineTo(A[1][0],A[1][1]),z.lineTo(A[2][0],A[2][1]),z.closePath(),z.fillStyle=o.fill,z.strokeStyle=o.border,z.lineWidth=p*2,z.lineJoin="miter",z.miterLimit=100,z.stroke(),z.fill()):(A="m"+A[0][0]+","+A[0][1]+" l"+A[1][0]+","+A[1][1]+" "+A[2][0]+","+A[2][1]+" xe",B[2]=p&&/^(r|b)/i.test(b.string())?1:0,g.css({antialias:""+(u.string().indexOf("center")>-1),left:B[0]-B[2]*Number(y==="x"),top:B[1]-B[2]*Number(y==="y"),width:l+p,height:m+p}).each(function(b){var c=a(this);c.attr({coordsize:l+p+" "+(m+p),path:A,fillcolor:o.fill,filled:!!b,stroked:!b}).css({display:p||b?"block":"none"}),!b&&p>0&&c.html()===""&&c.html('<vml:stroke weight="'+p*2+'px" color="'+o.border+'" miterlimit="1000" joinstyle="miter"  style="behavior:url(#default#VML); display:block;" />')}));return i.position(b,1)},position:function(b,c){var f=k.tip,g={},h=Math.max(0,j.offset),l,m,n;if(j.corner===e||!f)return e;b=b||i.corner,l=b.precedance,m=v(b),n=a.browser.msie&&p&&/^(b|r)/i.test(b.string())?1:0,a.each(l==="y"?[b.x,b.y]:[b.y,b.x],function(a,c){var e,f;c==="center"?(e=l==="y"?"left":"top",g[e]="50%",g["margin-"+e]=-Math.round(m[l==="y"?"width":"height"]/2)+h):(e=t(b,c,d),f=u(b),g[c]=a||!p?t(b,c)+(a?0:f):h+(f>e?f:0))}),g[b[l]]-=m[l==="x"?"width":"height"]+n,c&&f.css({top:"",bottom:"",left:"",right:"",margin:""}).css(g);return g},destroy:function(){k.tip&&k.tip.remove(),l.unbind(q)}}),i.init()}function w(a,b,c){var d=Math.ceil(b/2),e=Math.ceil(c/2),f={bottomright:[[0,0],[b,c],[b,0]],bottomleft:[[0,0],[b,0],[0,c]],topright:[[0,c],[b,0],[b,c]],topleft:[[0,0],[0,c],[b,c]],topcenter:[[0,c],[d,0],[b,c]],bottomcenter:[[0,0],[b,0],[d,c]],rightcenter:[[0,0],[b,e],[0,c]],leftcenter:[[b,0],[b,c],[0,e]]};f.lefttop=f.bottomright,f.righttop=f.bottomleft,f.leftbottom=f.topright,f.rightbottom=f.topleft;return f[a.string()]}function v(b){var c=this,d=b.elements.tooltip,e=b.options.content.ajax,f=".qtip-ajax",g=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;b.checks.ajax={"^content.ajax":function(a,b,d){b==="ajax"&&(e=d),b==="once"?c.once(e.once):e&&e.url?c.load():c.once(0)}},a.extend(c,{init:function(){e&&e.url&&(c.load(),d.one("tooltipshow",function(){c.once(e.once)}))},once:function(a){d[(a?"un":"")+"bind"]("tooltipshow"+f,c.load)},load:function(){function j(a,c,d){b.set("content.text",c+": "+d)}function i(c){h&&(c=a("<div/>").append(c.replace(g,"")).find(h)),b.set("content.text",c)}var d=e.url.indexOf(" "),f=e.url,h;d>-1&&(h=f.substr(d),f=f.substr(0,d)),a.ajax(a.extend({success:i,error:j,context:b},e,{url:f}));return c}}),c.init()}function u(b,c){var i,j,k,l,m=a(this),n=a(document.body),o=this===document?n:m,p=m.metadata?m.metadata(c.metadata):f,u=c.metadata.type==="html5"&&p?p[c.metadata.name]:f,v=m.data(c.metadata.name||"qtipopts");try{v=typeof v==="string"?(new Function("return "+v))():v}catch(w){r("Unable to parse HTML5 attribute data: "+v)}l=a.extend(d,{},g.defaults,c,typeof v==="object"?s(v):f,s(u||p)),p&&a.removeData(this,"metadata"),j=l.position,l.id=b;if("boolean"===typeof l.content.text){k=m.attr(l.content.attr);if(l.content.attr!==e&&k)l.content.text=k;else return e}j.container===e&&(j.container=n),j.target===e&&(j.target=o),l.show.target===e&&(l.show.target=o),l.show.solo===d&&(l.show.solo=n),l.hide.target===e&&(l.hide.target=o),l.position.viewport===d&&(l.position.viewport=j.container),j.at=new h.Corner(j.at),j.my=new h.Corner(j.my);if(a.data(this,"qtip"))if(l.overwrite)m.qtip("destroy");else if(l.overwrite===e)return e;a.attr(this,"title")&&(a.data(this,q,a.attr(this,"title")),m.removeAttr("title")),i=new t(m,l,b,!!k),a.data(this,"qtip",i),m.bind("remove.qtip",function(){i.destroy()});return i}function t(p,r,t,u){function M(c,d,e,f){f=parseInt(f,10)!==0;var g=".qtip-"+t,h={show:c&&r.show.target[0],hide:d&&r.hide.target[0],tooltip:e&&v.rendered&&A.tooltip[0],content:e&&v.rendered&&A.content[0],container:f&&r.position.container[0]===w?document:r.position.container[0],window:f&&b};v.rendered?a([]).pushStack(a.grep([h.show,h.hide,h.tooltip,h.container,h.content,h.window],function(a){return typeof a==="object"})).unbind(g):c&&r.show.target.unbind(g+"-create")}function L(c,d,f,h){function y(a){D()&&v.reposition(a)}function x(a){if(z.hasClass(l))return e;clearTimeout(v.timers.inactive),v.timers.inactive=setTimeout(function(){v.hide(a)},r.hide.inactive)}function u(b){if(z.hasClass(l))return e;var c=a(b.relatedTarget||b.target),d=c.closest(m)[0]===z[0],f=c[0]===n.show[0];clearTimeout(v.timers.show),clearTimeout(v.timers.hide);if(k.target==="mouse"&&d||r.hide.fixed&&(/mouse(out|leave|move)/.test(b.type)&&(d||f))){b.stopPropagation(),b.preventDefault();return e}z.stop(1,1),r.hide.delay>0?v.timers.hide=setTimeout(function(){v.hide(b)},r.hide.delay):v.hide(b)}function s(a){if(z.hasClass(l))return e;n.show.trigger("qtip-"+t+"-inactive"),clearTimeout(v.timers.show),clearTimeout(v.timers.hide);var b=function(){v.show(a)};r.show.delay>0?v.timers.show=setTimeout(b,r.show.delay):b()}var j=".qtip-"+t,k=r.position,n={show:r.show.target,hide:r.hide.target,container:k.container[0]===w?a(document):k.container,doc:a(document)},o={show:a.trim(""+r.show.event).split(" "),hide:a.trim(""+r.hide.event).split(" ")},q=a.browser.msie&&parseInt(a.browser.version,10)===6;f&&(r.hide.fixed&&(n.hide=n.hide.add(z),z.bind("mouseover"+j,function(){z.hasClass(l)||clearTimeout(v.timers.hide)})),k.target==="mouse"&&k.adjust.mouse&&r.hide.event&&z.bind("mouseleave"+j,function(a){(a.relatedTarget||a.target)!==n.show[0]&&v.hide(a)}),z.bind("mouseenter"+j+" mouseleave"+j,function(a){v[a.type==="mouseenter"?"focus":"blur"](a)})),d&&("number"===typeof r.hide.inactive&&(n.show.bind("qtip-"+t+"-inactive",x),a.each(g.inactiveEvents,function(a,b){n.hide.add(A.tooltip).bind(b+j+"-inactive",x)})),a.each(o.hide,function(b,c){var d=a.inArray(c,o.show),e=a(n.hide);d>-1&&e.add(n.show).length===e.length||c==="unfocus"?(n.show.bind(c+j,function(a){D()?u(a):s(a)}),delete o.show[d]):n.hide.bind(c+j,u)})),c&&a.each(o.show,function(a,b){n.show.bind(b+j,s)}),h&&((k.adjust.resize||k.viewport)&&a(a.event.special.resize?k.viewport:b).bind("resize"+j,y),(k.viewport||q&&z.css("position")==="fixed")&&a(k.viewport).bind("scroll"+j,y),/unfocus/i.test(r.hide.event)&&n.doc.bind("mousedown"+j,function(b){var c=a(b.target);c.parents(m).length===0&&c.add(p).length>1&&D()&&!z.hasClass(l)&&v.hide(b)}),k.target==="mouse"&&n.doc.bind("mousemove"+j,function(a){k.adjust.mouse&&!z.hasClass(l)&&D()&&v.reposition(a||i)}))}function K(b,c){var f=A.content;if(!v.rendered||!b)return e;a.isFunction(b)&&(b=b.call(p,v)||""),b.jquery&&b.length>0?f.empty().append(b.css({display:"block"})):f.html(b),z.queue("fx",function(b){function e(a){c=c.not(a),c.length===0&&(v.redraw(),v.rendered&&D()&&v.reposition(B.event),b())}var c=f.find("img:not([height]):not([width])");c.each(function(b,c){var f=["abort","error","load","unload",""].join(".qtip-image ");a(this).bind(f,function(){clearTimeout(v.timers.img[b]),e(this)}),function g(){if(c.height&&c.width)return e(c);v.timers.img[b]=setTimeout(g,20)}();return d}),c.length===0&&e(c)});return v}function J(b){var c=A.title;if(!v.rendered||!b)return e;a.isFunction(b)&&(b=b.call(p,v)||""),b.jquery&&b.length>0?c.empty().append(b.css({display:"block"})):c.html(b),v.redraw(),v.rendered&&D()&&v.reposition(B.event)}function I(a){var b=A.button,c=A.title;if(!v.rendered)return e;a?(c||H(),G()):b.remove()}function H(){var b=x+"-title";A.titlebar&&F(),A.titlebar=a("<div />",{"class":j+"-titlebar "+(r.style.widget?"ui-widget-header":"")}).append(A.title=a("<div />",{id:b,"class":j+"-title","aria-atomic":d})).insertBefore(A.content),r.content.title.button?G():v.rendered&&v.redraw()}function G(){var b=r.content.title.button;A.button&&A.button.remove(),b.jquery?A.button=b:A.button=a("<a />",{"class":"ui-state-default "+(r.style.widget?"":j+"-icon"),title:"Close tooltip","aria-label":"Close tooltip"}).prepend(a("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),A.button.appendTo(A.titlebar).attr("role","button").hover(function(b){a(this).toggleClass("ui-state-hover",b.type==="mouseenter")}).click(function(a){z.hasClass(l)||v.hide(a);return e}).bind("mousedown keydown mouseup keyup mouseout",function(b){a(this).toggleClass("ui-state-active ui-state-focus",b.type.substr(-4)==="down")}),v.redraw()}function F(){A.title&&(A.titlebar.remove(),A.titlebar=A.title=A.button=f,v.reposition())}function E(){var a=r.style.widget;z.toggleClass(k,a),A.content.toggleClass(k+"-content",a),A.titlebar&&A.titlebar.toggleClass(k+"-header",a),A.button&&A.button.toggleClass(j+"-icon",!a)}function D(){return z&&z.css("left")!==o&&z.css("visibility")!=="hidden"}function C(a){var b=0,c,d=r,e=a.split(".");while(d=d[e[b++]])b<e.length&&(c=d);return[c||r,e.pop()]}var v=this,w=document.body,x=j+"-"+t,y=0,z,A,B;v.id=t,v.rendered=e,v.elements=A={target:p},v.timers={img:[]},v.options=r,v.checks={},v.plugins={},v.cache=B={event:{},target:f,disabled:e,attr:u},v.checks.builtin={"^id$":function(b,c,f){var h=f===d?g.nextid:f,i=j+"-"+h;h!==e&&h.length>0&&!a("#"+i).length&&(z[0].id=i,A.content[0].id=i+"-content",A.title[0].id=i+"-title")},"^content.text$":function(a,b,c){K(c)},"^content.title.text$":function(a,b,c){if(!c)return F();!A.title&&c&&H(),J(c)},"^content.title.button$":function(a,b,c){I(c)},"^position.(my|at)$":function(a,b,c){"string"===typeof c&&(a[b]=new h.Corner(c))},"^position.container$":function(a,b,c){v.rendered&&z.appendTo(c)},"^(show|hide).(event|target|fixed|delay|inactive)$":function(a,b,c,d,e){var f=[1,0,0];f[e[0]==="show"?"push":"unshift"](0),M.apply(v,f),L.apply(v,[1,1,0,0])},"^show.ready$":function(){v.rendered||v.show()},"^style.classes$":function(b,c,d){a.attr(z[0],"class",j+" qtip ui-helper-reset "+d)},"^style.widget|content.title":E,"^events.(render|show|move|hide|focus|blur)$":function(b,c,d){z[(a.isFunction(d)?"":"un")+"bind"]("tooltip"+c,d)}},a.extend(v,{render:function(b){if(v.rendered)return e;var c=r.content.text,f=r.content.title.text,g=a.Event("tooltiprender");a.attr(p[0],"aria-describedby",x),z=A.tooltip=a("<div/>").attr({id:x,"class":j+" qtip ui-helper-reset "+r.style.classes,role:"alert","aria-live":"polite","aria-atomic":e,"aria-describedby":x+"-content","aria-hidden":d}).toggleClass(l,B.disabled).data("qtip",v).appendTo(r.position.container).append(A.content=a("<div />",{"class":j+"-content",id:x+"-content","aria-atomic":d})),v.rendered=-1,f&&(H(),J(f)),K(c),v.rendered=d,E(),a.each(h,function(){this.initialize==="render"&&this(v)}),L(1,1,1,1),a.each(r.events,function(a,b){if(b){var c=a==="toggle"?"tooltipshow tooltiphide":"tooltip"+a;z.bind(c,b)}}),z.css("visibility","hidden").queue("fx",function(a){g.originalEvent=B.event,z.trigger(g,[v]),(r.show.ready||b)&&v.show(B.event),a(),v.redraw()});return v},get:function(a){var b,c;switch(a.toLowerCase()){case"dimensions":b={height:z.outerHeight(),width:z.outerWidth()};break;case"offset":b=h.offset(z,r.position.container);break;default:c=C(a.toLowerCase()),b=c[0][c[1]],b=b.precedance?b.string():b}return b},set:function(b,c){function j(a,b){var c,e,f;if(v.rendered){for(c in h)for(e in h[c])if(f=(new RegExp(e,"i")).exec(a))b.push(f),h[c][e].apply(v,b)}else a==="show.ready"&&b[2]&&(y=0,v.render(d))}var f=/^position.(my|at|adjust|target|container)|style|content/i,g=e,h=v.checks,i;"string"===typeof b?(i=b,b={},b[i]=c):b=a.extend(d,{},b),a.each(b,function(c,d){var e=C(c.toLowerCase()),h;h=e[0][e[1]],e[0][e[1]]="object"===typeof d&&d.nodeType?a(d):d,b[c]=[e[0],e[1],d,h],g=f.test(c)||g}),s(r),y=1,a.each(b,j),y=0,g&&D()&&v.rendered&&v.reposition();return v},toggle:function(b,c){function j(){b?a.browser.msie&&z[0].style.removeAttribute("filter"):z.css({display:"",visibility:"hidden",width:"",opacity:"",left:"",top:""})}if(!v.rendered)if(b)v.render(1);else return e;var d=b?"show":"hide",g=r[d],h=D(),i;(typeof b).search("boolean|number")&&(b=!h);if(h===b)return v;if(c){if(/over|enter/.test(c.type)&&/out|leave/.test(B.event.type)&&c.target===r.show.target[0]&&z.has(c.relatedTarget).length)return v;B.event=a.extend({},c)}i=a.Event("tooltip"+d),i.originalEvent=c?B.event:f,z.trigger(i,[v,90]);if(i.isDefaultPrevented())return v;a.attr(z[0],"aria-hidden",!b),b?(z.hide().css({visibility:""}),v.focus(c),v.reposition(c,0),g.solo&&a(m,g.solo).not(z).qtip("hide",i)):(clearTimeout(v.timers.show),v.blur(c)),z.stop(1,1),a.isFunction(g.effect)?(g.effect.call(z,v),z.queue("fx",function(a){j.call(this,a),a()})):g.effect===e?(z[d](),j.call(z)):z.fadeTo(90,b?1:0,j),b&&g.target.trigger("qtip-"+t+"-inactive");return v},show:function(a){return v.toggle(d,a)},hide:function(a){return v.toggle(e,a)},focus:function(b){if(!v.rendered)return e;var c=a(m),d=parseInt(z[0].style.zIndex,10),f=g.zindex+c.length,h=a.extend({},b),i,j;z.hasClass(n)||(d!==f&&(c.each(function(){this.style.zIndex>d&&(this.style.zIndex=this.style.zIndex-1)}),c.filter("."+n).qtip("blur",h)),j=a.Event("tooltipfocus"),j.originalEvent=h,z.trigger(j,[v,f]),j.isDefaultPrevented()||(z.addClass(n)[0].style.zIndex=f));return v},blur:function(b){var c=a.extend({},b),d;z.removeClass(n),d=a.Event("tooltipblur"),d.originalEvent=c,z.trigger(d,[v]);return v},reposition:function(f,k){if(!v.rendered||y)return e;y=d;var l=r.position.target,m=r.position,n=m.my,o=m.at,p=m.adjust,q=z.outerWidth(),s=z.outerHeight(),t=0,u=0,x=a.Event("tooltipmove"),A=z.css("position")==="fixed",C=m.viewport.jquery?m.viewport:a(b),E={left:0,top:0},F=(v.plugins.tip||{}).corner,G={left:function(a){var b=C.scrollLeft,c=n.x==="left"?q:n.x==="right"?-q:-q/2,d=o.x==="left"?t:o.x==="right"?-t:-t/2,e=F&&F.precedance==="x"?g.defaults.style.tip.width:0,f=b-a-e,h=a+q-C.width-b+e,i=c-(n.precedance==="x"||n.x===n.y?d:0),j=n.x==="center";f>0&&(n.x!=="left"||h>0)?E.left-=i+(j?0:2*p.x):h>0&&(n.x!=="right"||f>0)&&(E.left-=j?-i:i+2*p.x),E.left!==a&&j&&(E.left-=p.x),E.left<0&&-E.left>h&&(E.left=a);return E.left-a},top:function(a){var b=C.scrollTop,c=n.y==="top"?s:n.y==="bottom"?-s:-s/2,d=o.y==="top"?u:o.y==="bottom"?-u:-u/2,e=F&&F.precedance==="y"?g.defaults.style.tip.height:0,f=b-a-e,h=a+s-C.height-b+e,i=c-(n.precedance==="y"||n.x===n.y?d:0),j=n.y==="center";f>0&&(n.y!=="top"||h>0)?E.top-=i+(j?0:2*p.y):h>0&&(n.y!=="bottom"||f>0)&&(E.top-=j?-i:i+2*p.y),E.top!==a&&j&&(E.top-=p.y),E.top<0&&-E.top>h&&(E.top=a);return E.top-a}};k=k===c||!!k||e,C=C?{elem:C,height:C[(C[0]===b?"h":"outerH")+"eight"](),width:C[(C[0]===b?"w":"outerW")+"idth"](),scrollLeft:C.scrollLeft(),scrollTop:C.scrollTop()}:e;if(l==="mouse")o={x:"left",y:"top"},f=f&&(f.type==="resize"||f.type==="scroll")?B.event:p.mouse||!f||!f.pageX?a.extend({},i):f,E={top:f.pageY,left:f.pageX};else{l==="event"&&(f&&f.target&&f.type!=="scroll"&&f.type!=="resize"?l=B.target=a(f.target):l=B.target),l=a(l).eq(0);if(l.length===0)return v;l[0]===document||l[0]===b?(t=l.width(),u=l.height(),l[0]===b&&(E={top:A?0:C.scrollTop,left:A?0:C.scrollLeft})):l.is("area")&&h.imagemap?E=h.imagemap(l,o):l[0].namespaceURI=="http://www.w3.org/2000/svg"&&h.svg?E=h.svg(l,o):(t=l.outerWidth(),u=l.outerHeight(),E=h.offset(l,m.container)),E.offset&&(t=E.width,u=E.height,E=E.offset),E.left+=o.x==="right"?t:o.x==="center"?t/2:0,E.top+=o.y==="bottom"?u:o.y==="center"?u/2:0}E.left+=p.x+(n.x==="right"?-q:n.x==="center"?-q/2:0),E.top+=p.y+(n.y==="bottom"?-s:n.y==="center"?-s/2:0),m.viewport.jquery&&l[0]!==b&&l[0]!==w?E.adjusted={left:G.left(E.left),top:G.top(E.top)}:E.adjusted={left:0,top:0},z.attr("class",function(b,c){return a.attr(this,"class").replace(/ui-tooltip-pos-\w+/i,"")}).addClass(j+"-pos-"+n.abbreviation()),x.originalEvent=a.extend({},f),z.trigger(x,[v,E,C.elem]);if(x.isDefaultPrevented())return v;delete E.adjusted,k&&isNaN(E.left,E.top)?D()&&a.isFunction(m.effect)&&(m.effect.call(z,v,E),z.queue(function(b){var c=a(this);c.css({opacity:"",height:""}),a.browser.msie&&this.style&&this.style.removeAttribute("filter"),b()})):z.css(E),y=e;return v},redraw:function(){var b=j+"-fluid",c="auto",d;if(v.rendered<1)return e;z.css({width:c,height:c}).addClass(b),d={height:z.outerHeight(),width:z.outerWidth()},a.each(["width","height"],function(a,b){var c=parseInt(z.css("max-"+b),10)||0,e=parseInt(z.css("min-"+b),10)||0;d[b]=c+e?Math.min(Math.max(d[b],e),c):d[b]}),z.css(d).removeClass(b);return v},disable:function(b){var c=l;"boolean"!==typeof b&&(b=!z.hasClass(c)&&!B.disabled),v.rendered?(z.toggleClass(c,b),a.attr(z[0],"aria-disabled",b)):B.disabled=!!b;return v},enable:function(){v.disable(e)},destroy:function(){var b=p[0],c=a.data(b,q);v.rendered&&(z.remove(),a.each(v.plugins,function(){this.destroy&&this.destroy()})),clearTimeout(v.timers.show),clearTimeout(v.timers.hide),M(1,1,1,1),a.removeData(b,"qtip"),c&&a.attr(b,"title",c),p.removeAttr("aria-describedby").unbind(".qtip");return p}})}function s(b){var c;if(!b||"object"!==typeof b)return e;"object"!==typeof b.metadata&&(b.metadata={type:b.metadata});if("content"in b){if("object"!==typeof b.content||b.content.jquery)b.content={text:b.content};c=b.content.text||e,!a.isFunction(c)&&(!c&&!c.attr||c.length<1||"object"===typeof c&&!c.jquery)&&(b.content.text=e),"title"in b.content&&("object"!==typeof b.content.title&&(b.content.title={text:b.content.title}),c=b.content.title.text||e,!a.isFunction(c)&&(!c&&!c.attr||c.length<1||"object"===typeof c&&!c.jquery)&&(b.content.title.text=e))}"position"in b&&("object"!==typeof b.position&&(b.position={my:b.position,at:b.position})),"show"in b&&("object"!==typeof b.show&&(b.show.jquery?b.show={target:b.show}:b.show={event:b.show})),"hide"in b&&("object"!==typeof b.hide&&(b.hide.jquery?b.hide={target:b.hide}:b.hide={event:b.hide})),"style"in b&&("object"!==typeof b.style&&(b.style={classes:b.style})),a.each(h,function(){this.sanitize&&this.sanitize(b)});return b}function r(){var c=b.console;return c&&(c.error||c.log||a.noop).apply(c,arguments)}var d=!0,e=!1,f=null,g,h,i,j="ui-tooltip",k="ui-widget",l="ui-state-disabled",m="div.qtip."+j,n=j+"-focus",o="-31000px",p="_replacedByqTip",q="oldtitle";g=a.fn.qtip=function(b,h,i){var j=(""+b).toLowerCase(),k=f,l=j==="disable"?[d]:a.makeArray(arguments).slice(1,10),m=l[l.length-1],n=this[0]?a.data(this[0],"qtip"):f;if(!arguments.length&&n||j==="api")return n;if("string"===typeof b){this.each(function(){var b=a.data(this,"qtip");if(!b)return d;m&&m.timeStamp&&(b.cache.event=m);if(j==="option"&&h)if(a.isPlainObject(h)||i!==c)b.set(h,i);else{k=b.get(h);return e}else b[j]&&b[j].apply(b[j],l)});return k!==f?k:this}if("object"===typeof b||!arguments.length){n=s(a.extend(d,{},b));return g.bind.call(this,n,m)}},g.bind=function(b,c){return this.each(function(f){function p(b){function c(){o.render(typeof b==="object"||i.show.ready),k.show.unbind(l.show),k.hide.unbind(l.hide)}if(o.cache.disabled)return e;o.cache.event=a.extend({},b),i.show.delay>0?(clearTimeout(o.timers.show),o.timers.show=setTimeout(c,i.show.delay),l.show!==l.hide&&k.hide.bind(l.hide,function(){clearTimeout(o.timers.show)})):c()}var i,k,l,m=!b.id||b.id===e||b.id.length<1||a("#"+j+"-"+b.id).length?g.nextid++:b.id,n=".qtip-"+m+"-create",o=u.call(this,m,b);if(o===e)return d;i=o.options,a.each(h,function(){this.initialize==="initialize"&&this(o)}),k={show:i.show.target,hide:i.hide.target},l={show:a.trim(""+i.show.event).replace(/ /g,n+" ")+n,hide:a.trim(""+i.hide.event).replace(/ /g,n+" ")+n},k.show.bind(l.show,p),(i.show.ready||i.prerender)&&p(c)})},h=g.plugins={Corner:function(a){a=(""+a).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase(),this.x=(a.match(/left|right/i)||a.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(a.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.precedance=a.charAt(0).search(/^(t|b)/)>-1?"y":"x",this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y},this.abbreviation=function(){var a=this.x.substr(0,1),b=this.y.substr(0,1);return a===b?a:a==="c"||a!=="c"&&b!=="c"?b+a:a+b}},offset:function(c,d){function k(a,b){e.left+=b*a.scrollLeft(),e.top+=b*a.scrollTop()}var e=c.offset(),f=d,g=0,i=document.body,j;if(f){do{if(f[0]===i)break;f.css("position")!=="static"&&(j=f.position(),e.left-=j.left+(parseInt(f.css("borderLeftWidth"),10)||0),e.top-=j.top+(parseInt(f.css("borderTopWidth"),10)||0),g++)}while(f=f.offsetParent());(d[0]!==i||g>1)&&k(d,1),h.iOS&&k(a(b),-1)}return e},iOS:parseFloat((""+(/CPU.*OS ([0-9_]{3})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,"4_2"])[1]).replace("undefined","3_2").replace("_","."))<4.1,fn:{attr:function(b,c){if(this.length){var d=this[0],e="title",f=a.data(d,"qtip");if(b===e){if(arguments.length<2)return a.data(d,q);if(typeof f==="object"){f&&f.rendered&&f.options.content.attr===e&&f.cache.attr&&f.set("content.text",c),a.fn["attr"+p].apply(this,arguments),a.data(d,q,a.attr(d,e));return this.removeAttr("title")}}}},clone:function(b){var c=a([]),d;a("*",this).add(this).each(function(){var b=a.data(this,q);b&&(a.attr(this,"title",b),c=c.add(this))}),d=a.fn["clone"+p].apply(this,arguments),c.removeAttr("title");return d},remove:a.ui?f:function(b,c){a(this).each(function(){c||(!b||a.filter(b,[this]).length)&&a("*",this).add(this).each(function(){a(this).triggerHandler("remove")})})}}},a.each(h.fn,function(b,c){if(!c)return d;var e=a.fn[b+p]=a.fn[b];a.fn[b]=function(){return c.apply(this,arguments)||e.apply(this,arguments)}}),a(b).bind("load.qtip",function(){var b="mousemove";a(document).bind(b+".qtip",function(a){i={pageX:a.pageX,pageY:a.pageY,type:b}})}),g.version="nightly",g.nextid=0,g.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),g.zindex=15e3,g.defaults={prerender:e,id:e,overwrite:d,content:{text:d,attr:"title",title:{text:e,button:e}},position:{my:"top left",at:"bottom right",target:e,container:e,viewport:e,adjust:{x:0,y:0,mouse:d,resize:d},effect:d},show:{target:e,event:"mouseenter",effect:d,delay:90,solo:e,ready:e},hide:{target:e,event:"mouseleave",effect:d,delay:0,fixed:e,inactive:e},style:{classes:"",widget:e},events:{render:f,move:f,show:f,hide:f,toggle:f,focus:f,blur:f}},h.ajax=function(a){var b=a.plugins.ajax;return"object"===typeof b?b:a.plugins.ajax=new v(a)},h.ajax.initialize="render",h.ajax.sanitize=function(a){var b=a.content,c;b&&"ajax"in b&&(c=b.ajax,typeof c!=="object"&&(c=a.content.ajax={url:c}),"boolean"!==typeof c.once&&c.once&&(c.once=!!c.once))},a.extend(d,g.defaults,{content:{ajax:{once:d}}}),h.tip=function(a){var b=a.plugins.tip;return"object"===typeof b?b:a.plugins.tip=new x(a)},h.tip.initialize="render",h.tip.sanitize=function(a){var b=a.style,c;b&&"tip"in b&&(c=a.style.tip,typeof c!=="object"&&(a.style.tip={corner:c}),/string|boolean/i.test(typeof c.corner)||(c.corner=d),typeof c.width!=="number"&&delete c.width,typeof c.height!=="number"&&delete c.height,typeof c.border!=="number"&&c.border!==d&&delete c.border,typeof c.offset!=="number"&&delete c.offset)},a.extend(d,g.defaults,{style:{tip:{corner:d,mimic:e,width:6,height:6,border:d,offset:0}}})}(jQuery,window)