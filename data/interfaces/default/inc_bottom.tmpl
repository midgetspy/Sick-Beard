#import sickbeard
#import datetime
#from sickbeard.db_peewee import *
#from sickbeard.common import *
    </div> <!-- /content -->
</div> <!-- /contentWrapper -->

<footer>
    <div class="container footer">
        #set $today = str($datetime.date.today().toordinal())
        #set $numShows = len($sickbeard.showList)
        #set $numGoodShows = len([x for x in $sickbeard.showList if x.paused == 0 and x.status != "Ended"])
        #set $numDLEpisodes = TvEpisode.select().where((TvEpisode.status << ($Quality.DOWNLOADED + [$ARCHIVED])) & (TvEpisode.season != 0) & (TvEpisode.episode != 0) & (TvEpisode.airdate <= $today)).count()
        #set $numEpisodes = TvEpisode.select().where((TvEpisode.season != 0) & (TvEpisode.episode != 0) & (TvEpisode.airdate <= $today) & (TvEpisode.status != $IGNORED) &((TvEpisode.airdate != 1) | (TvEpisode.status << ($Quality.DOWNLOADED + $Quality.SNATCHED + $Quality.SNATCHED_PROPER) + [$ARCHIVED]))).count()
        <b>$numShows shows</b> ($numGoodShows active) | <b>$numDLEpisodes/$numEpisodes</b> episodes downloaded 
        <br />
        <b>Search</b>: <%=str(sickbeard.currentSearchScheduler.timeLeft()).split('.')[0]%> |
        <b>Backlog</b>: $sickbeard.backlogSearchScheduler.nextRun().strftime("%a %b %d").decode($sickbeard.SYS_ENCODING)
    </div> <!-- /container footer -->
</footer>

</body>
</html>
