#import sickbeard
#from sickbeard import common
#from sickbeard import exceptions
#set global $title="Edit "+$show.name
#set global $header=$show.name

#set global $sbPath=".."

#set global $topmenu="home"#
#import os.path
#include $os.path.join($sickbeard.PROG_DIR, "data/interfaces/default/inc_top.tmpl")
<script type="text/javascript" charset="utf-8">
<!--
\$(document).ready(function(){

  \$.getJSON('$sbRoot/home/addShows/getTVDBLanguages', {}, function(data){
        var tvdbLangSelectHtml = '';
 		var soundtrackLangSelectHtml = '';
        if (data.results.length == 0) {
            tvdbLangSelectHtml = '<option value="$show.lang" selected="selected">$show.lang</option>';
            soundtrackLangSelectHtml = '<option value="$show.lang" selected="selected">$show.lang</option>';
        } else {
            var current_lang_added = false;
            \$.each(data.results, function(index, obj){
                if (obj == "$show.lang") {
                        tvdbLangSelect = ' selected="selected"';
                        current_lang_added = true;
                } else {
                		tvdbLangSelect = '';
                }                
                
                if (obj == "$show.soundtrack_lang") {
                        soundtrackLangSelected = ' selected="selected"';
                        current_lang_added = true;
                } else {
                        soundtrackLangSelected = '';
                }

                tvdbLangSelectHtml += '<option value="' + obj + '"' + tvdbLangSelect + '>' + obj + '</option>';
                soundtrackLangSelectHtml += '<option value="' + obj + '"' + soundtrackLangSelected + '>' + obj + '</option>';
            });
            if (!current_lang_added) {
                tvdbLangSelectHtml += '<option value="$show.lang" selected="selected">$show.lang</option>';
                soundtrackLangSelectHtml = '<option value="$show.soundtrack_lang" selected="selected">$show.soundtrack_lang</option>';
            }
        }
        \$('#tvdbLangSelect').html(tvdbLangSelectHtml);
        \$('#soundtrackLangSelect').html(soundtrackLangSelectHtml);

        \$('#tvdbLangSelect').change(function() { searchTvdb() });
        \$('#soundtrackLangSelect').change(function() { searchTvdb() });
  });

});
//-->
</script>


<form action="editShow" method="post">
<input type="hidden" name="show" value="$show.tvdbid" />
Location: <input type="text" name="location" id="location" value="$show._location" size="50" /><br />
<br />
Quality:
#set $qualities = $common.Quality.splitQuality(int($show.quality))
#set global $anyQualities = $qualities[0]
#set global $bestQualities = $qualities[1]
#include $os.path.join($sickbeard.PROG_DIR, "data/interfaces/default/inc_qualityChooser.tmpl")
<br />
<br />
Language: <select name="tvdbLang" id="tvdbLangSelect"></select><br />
Note: This will only affect the language of the retrieved metadata file contents and episode filenames.<br />
<br />
Soundtrack: <select name="soundtrackLang" id="soundtrackLangSelect"></select><br />
<br />

Custom Search Names: <input type="text" name="customSearchNames" id="customSearchNames" value="$show.custom_search_names" size="50" /><br />
Note: Custom names used to find show. Define some custom names if show can't be found. Custom names should be separated by ",". Keep empty to use default show name (based on metadata language)<br />
<br />

Use Season Folders: <input type="checkbox" name="seasonfolders" #if $show.seasonfolders == 1 then "checked=\"checked\"" else ""# /><br /><br />
Paused: <input type="checkbox" name="paused" #if $show.paused == 1 then "checked=\"checked\"" else ""# /><br /><br />

Air by date:
<input type="checkbox" name="air_by_date" #if $show.air_by_date == 1 then "checked=\"checked\"" else ""# /><br />
(check this if the show is released as Show.03.02.2010 rather than Show.S02E03)
<br /><br />
<input type="submit" value="Submit" />
</form>

<script type="text/javascript" charset="utf-8">
<!--
    jQuery('#location').fileBrowser({ title: 'Select Show Location' });
//-->
</script>

#include $os.path.join($sickbeard.PROG_DIR, "data/interfaces/default/inc_bottom.tmpl")
